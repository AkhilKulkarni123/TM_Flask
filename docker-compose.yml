version: '3'
services:
        web:
                image: flask_open
                build: .
                env_file:
                        - .env # This file is optional; defaults will be used if it does not exist
                ports:
                        - "8306:8306"
                volumes:
                        - ./instance:/app/instance
                restart: unless-stopped
                # Note: Socket.IO is now integrated into the main Flask app
                # No separate socketio service needed

        # Legacy socketio service - kept for backwards compatibility
        # Can be removed if not needed
        # socketio:
        #         image: socket_open
        #         build: ./socket
        #         ports:
        #                 - "8500:8500"
        #         restart: unless-stopped